{"remainingRequest":"C:\\Users\\sa\\Desktop\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sa\\Desktop\\08\\src\\components\\BasicProportionChart\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\sa\\Desktop\\08\\src\\components\\BasicProportionChart\\index.vue","mtime":1734330872000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\babel-loader\\lib\\index.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1734174292000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmxldCBjaGFydCA9IG51bGwKY29uc3QgY2FsY3VsYXRlUHJvcG9ydGlvbiA9ICh2YWx1ZSwgdG90YWwpID0+IHsKICByZXR1cm4gKCh2YWx1ZSAvIHRvdGFsKSAqIDEwMCkudG9GaXhlZCgwKQp9CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZGF0YTogT2JqZWN0CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0Q2hhcnQgKCkgewogICAgICBpZiAobnVsbCAhPSBjaGFydCAmJiB1bmRlZmluZWQgIT0gY2hhcnQpIHsKICAgICAgICBjaGFydC5kaXNwb3NlKCkKICAgICAgfQogICAgICBjaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCh0aGlzLiRyZWZzLmJhc2ljUHJvcG9ydGlvbkNoYXJ0KQogICAgICB0aGlzLnNldE9wdGlvbnMoKQogICAgfSwKICAgIHNldE9wdGlvbnMoKSB7CiAgICAgIGxldCBsaXN0ID0gWwogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICdqYXZhJywKICAgICAgICAgIHZhbHVlOiBjYWxjdWxhdGVQcm9wb3J0aW9uKHRoaXMuZGF0YS5jdXJyZW50Q29uZmlybWVkQ291bnQsIHRoaXMuZGF0YS5jb25maXJtZWRDb3VudCkKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICdjKysnLAogICAgICAgICAgdmFsdWU6IGNhbGN1bGF0ZVByb3BvcnRpb24odGhpcy5kYXRhLmltcG9ydGVkQ291bnQsIHRoaXMuZGF0YS5jb25maXJtZWRDb3VudCkKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICflhbbku5YnLAogICAgICAgICAgdmFsdWU6IGNhbGN1bGF0ZVByb3BvcnRpb24odGhpcy5kYXRhLmN1cmVkQ291bnQsIHRoaXMuZGF0YS5jb25maXJtZWRDb3VudCkKICAgICAgICB9CiAgICAgIF0KICAgICAgbGV0IHRpdGxlTGlzdCA9IFtdLCBzZXJpZXNMaXN0ID0gW10KICAgICAgbGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIHRpdGxlTGlzdC5wdXNoKHsKICAgICAgICAgIHRleHQ6IGl0ZW0ubmFtZSwKICAgICAgICAgIHRvcDogJzc1JScsCiAgICAgICAgICBsZWZ0OiBpbmRleCAqIDMwICsgMTIgKyAnJScsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsCiAgICAgICAgICAgIGNvbG9yOiAnI0JDQkNCRicsCiAgICAgICAgICAgIGZvbnRTaXplOiAnMTInCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAvLyAKICAgICAgICBzZXJpZXNMaXN0LnB1c2goCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgIGNsb2NrV2lzZTogdHJ1ZSwKICAgICAgICAgICAgcmFkaXVzOiBbJzUwJScsICc2NiUnXSwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxhYmVsTGluZTogewogICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaG92ZXJBbmltYXRpb246IGZhbHNlLAogICAgICAgICAgICBjZW50ZXI6IFtpbmRleCAqIDMwICsgMjAgKyAnJScsICczNSUnXSwKICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLAogICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zLnZhbHVlICsgJyUnOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0JywKICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJywKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI0ZGRicKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHsgLy8g5a6M5oiQ55qE5ZyG546v55qE6aKc6ImyCiAgICAgICAgICAgICAgICAgICAgICBjb2xvclN0b3BzOiBbewogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI0QzMkU1OCcgLy8gMCUg5aSE55qE6aKc6ImyCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjRjk5MjY2JyAvLyAxMDAlIOWkhOeahOminOiJsgogICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93OiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdsYW53ZWlob25nJywKICAgICAgICAgICAgICAgIHZhbHVlOiAxMDAgLSBpdGVtLnZhbHVlCiAgICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICApCiAgICAgIH0pCiAgICAgIGxldCBvcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHRpdGxlTGlzdCwKICAgICAgICBjb2xvcjogWydyZ2JhKDcsIDE1OCwgMjU0LCAuOSknXSwKICAgICAgICBzZXJpZXM6IHNlcmllc0xpc3QKICAgICAgfQogICAgICBjaGFydC5zZXRPcHRpb24ob3B0aW9uKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGE6IHsKICAgICAgaGFuZGxlciAobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgaWYgKG9sZFZhbHVlICE9IG5ld1ZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNldE9wdGlvbnMoKQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/BasicProportionChart","sourcesContent":["<template>\n  <div ref=\"basicProportionChart\" style=\"width: 100%; height: 100%\"></div>\n</template>\n<script>\nlet chart = null\nconst calculateProportion = (value, total) => {\n  return ((value / total) * 100).toFixed(0)\n}\nexport default {\n  props: {\n    data: Object\n  },\n  methods: {\n    initChart () {\n      if (null != chart && undefined != chart) {\n        chart.dispose()\n      }\n      chart = this.$echarts.init(this.$refs.basicProportionChart)\n      this.setOptions()\n    },\n    setOptions() {\n      let list = [\n        {\n          name: 'java',\n          value: calculateProportion(this.data.currentConfirmedCount, this.data.confirmedCount)\n        },\n        {\n          name: 'c++',\n          value: calculateProportion(this.data.importedCount, this.data.confirmedCount)\n        },\n        {\n          name: '其他',\n          value: calculateProportion(this.data.curedCount, this.data.confirmedCount)\n        }\n      ]\n      let titleList = [], seriesList = []\n      list.forEach((item, index) => {\n        titleList.push({\n          text: item.name,\n          top: '75%',\n          left: index * 30 + 12 + '%',\n          textStyle: {\n            fontWeight: 'normal',\n            color: '#BCBCBF',\n            fontSize: '12'\n          }\n        })\n        // \n        seriesList.push(\n          {\n            name: item.name,\n            type: 'pie',\n            clockWise: true,\n            radius: ['50%', '66%'],\n            itemStyle: {\n              normal: {\n                label: {\n                  show: false\n                },\n                labelLine: {\n                  show: false\n                }\n              }\n            },\n            hoverAnimation: false,\n            center: [index * 30 + 20 + '%', '35%'],\n            data: [\n              {\n                value: item.value,\n                name: item.name,\n                label: {\n                  normal: {\n                    formatter: function (params) {\n                      return params.value + '%';\n                    },\n                    position: 'center',\n                    show: true,\n                    textStyle: {\n                      fontSize: '14',\n                      fontWeight: 'bold',\n                      color: '#FFF'\n                    }\n                  }\n                },\n                itemStyle: {\n                  normal: {\n                    color: { // 完成的圆环的颜色\n                      colorStops: [{\n                        offset: 0,\n                        color: '#D32E58' // 0% 处的颜色\n                      }, {\n                        offset: 1,\n                        color: '#F99266' // 100% 处的颜色\n                      }]\n                    },\n                    label: {\n                      // show: false\n                    },\n                    labelLine: {\n                      show: false\n                    }\n                  }\n                }\n              }, {\n                name: 'lanweihong',\n                value: 100 - item.value\n              }]\n          }\n        )\n      })\n      let option = {\n        title: titleList,\n        color: ['rgba(7, 158, 254, .9)'],\n        series: seriesList\n      }\n      chart.setOption(option)\n    }\n  },\n  watch: {\n    data: {\n      handler (newValue, oldValue) {\n        if (oldValue != newValue) {\n          this.setOptions()\n        }\n      },\n      deep: true\n    }\n  }\n}\n</script>"]}]}