{"remainingRequest":"C:\\Users\\sa\\Desktop\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sa\\Desktop\\08\\src\\components\\DataMap\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\sa\\Desktop\\08\\src\\components\\DataMap\\index.vue","mtime":1735111790777},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\babel-loader\\lib\\index.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1734174292000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAiZWNoYXJ0cyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBtb250aCA9IGRlY29kZVVSSUNvbXBvbmVudChnZXRVcmxQYXJhbSgnbW9udGgnLCAnMjAyNDA2JykpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdyYXBoQ29tcG9uZW50IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhcnQ6IG51bGwsCiAgICAgIHR5cGVNYXA6IG5ldyBNYXAoWwogICAgICAgIFsiciIsICJyZXBvIl0sCiAgICAgICAgWyJpIiwgImlzc3VlIl0sCiAgICAgICAgWyJwIiwgInB1bGwiXSwKICAgICAgICBbInUiLCAidXNlciJdLAogICAgICBdKSwKICAgICAgbGVhZGVyYm9hcmREYXRhOiBbXSwKICAgICAgZGV0YWlsc0RhdGE6IFtdLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygi5oiR6L+b5p2l5LqGIik7CiAgICB0aGlzLmluaXRDaGFydCgpOwogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdENoYXJ0KCkgewogICAgICB0aGlzLmNoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuZ3JhcGgpOwogICAgfSwKICAgIGxvYWREYXRhKCkgewogICAgICBheGlvcwogICAgICAgIC5nZXQoCiAgICAgICAgICAiaHR0cHM6Ly9vc3MueC1sYWIuaW5mby9vcGVuX2RpZ2dlci9naXRodWIvdW1panMvdW1pL2NvbW11bml0eV9vcGVucmFuay5qc29uIgogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKyJTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1MiKQogICAgICAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2UuZGF0YTsgLy8g5bCG6I635Y+W55qE5pWw5o2u5L+d5a2Y5Yiw57uE5Lu255qE5pWw5o2u5bGe5oCn5LitCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJlcnJvciIsIGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjbGVhckRpdihpZCkgewogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogICAgICBpZiAoZGl2ICYmIGRpdi5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXYuY2hpbGROb2RlczsKICAgICAgICBmb3IgKHZhciBjaGlsZCBvZiBjaGlsZHJlbikgewogICAgICAgICAgZGl2LnJlbW92ZUNoaWxkKGNoaWxkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRSb3codGFibGUsIHRleHRzKSB7CiAgICAgIHZhciB0ciA9IHRhYmxlLmluc2VydFJvdygpOwogICAgICBmb3IgKHZhciB0IG9mIHRleHRzKSB7CiAgICAgICAgdmFyIHRkID0gdHIuaW5zZXJ0Q2VsbCgpOwogICAgICAgIHRkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQudG9TdHJpbmcoKS5zbGljZSgwLCAyMCkpKTsKICAgICAgfQogICAgfSwKICAgIHNldExlYWRlcmJvYXJkKGdyYXBoKSB7CiAgICAgIGNsZWFyRGl2KCJsZWFkZXJib2FyZF90YWJsZSIpOwogICAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGVhZGVyYm9hcmRfdGFibGUiKTsKICAgICAgYWRkUm93KHRhYmxlLCBbIkxvZ2luIiwgIk9wZW5SYW5rIl0pOwogICAgICB2YXIgdXNlcnMgPSBncmFwaC5kYXRhW21vbnRoXS5ub2RlcwogICAgICAgIC5tYXAoKG5vZGUpID0+ICh7CiAgICAgICAgICBpZDogZ3JhcGgubWV0YS5ub2Rlc1tub2RlWzBdXVswXSwKICAgICAgICAgIGluaXRpYWxWYWx1ZTogbm9kZVsxXSwKICAgICAgICAgIHZhbHVlOiBub2RlWzJdLAogICAgICAgICAgbG9naW46IGdyYXBoLm1ldGEubm9kZXNbbm9kZVswXV1bMV0sCiAgICAgICAgfSkpCiAgICAgICAgLmZpbHRlcigobikgPT4gbi5pZFswXSA9PT0gInUiKQogICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnZhbHVlIC0gYS52YWx1ZSk7CiAgICAgIGZvciAodmFyIHUgb2YgdXNlcnMpIHsKICAgICAgICBhZGRSb3codGFibGUsIFt1LmxvZ2luLCB1LnZhbHVlXSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXREZXRhaWxzKGdyYXBoLCBpZCkgewogICAgICBjbGVhckRpdigiZGV0YWlsc190YWJsZSIpOwogICAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGV0YWlsc190YWJsZSIpOwogICAgICB2YXIgaW5kZXggPSBncmFwaC5tZXRhLm5vZGVzLmZpbmRJbmRleCgoaSkgPT4gaVswXSA9PT0gaWQpOwogICAgICB2YXIgZGF0YSA9IGdyYXBoLmRhdGFbbW9udGhdOwogICAgICB2YXIgc2VsZk5vZGUgPSBkYXRhLm5vZGVzLmZpbmQoKGkpID0+IGlbMF0gPT09IGluZGV4KTsKICAgICAgYWRkUm93KHRhYmxlLCBbIkZyb20iLCAiUmF0aW8iLCAiVmFsdWUiLCAiT3BlblJhbmsiXSk7CiAgICAgIGFkZFJvdyh0YWJsZSwgWwogICAgICAgICJTZWxmIiwKICAgICAgICBncmFwaC5tZXRhLnJldGVudGlvbkZhY3RvciwKICAgICAgICBzZWxmTm9kZVsxXSwKICAgICAgICAoZ3JhcGgubWV0YS5yZXRlbnRpb25GYWN0b3IgKiBzZWxmTm9kZVsxXSkudG9GaXhlZCgzKSwKICAgICAgXSk7CgogICAgICB2YXIgb3RoZXIgPSBkYXRhLmxpbmtzCiAgICAgICAgLmZpbHRlcigobCkgPT4gbFsxXSA9PSBpbmRleCkKICAgICAgICAubWFwKChsKSA9PiB7CiAgICAgICAgICB2YXIgc291cmNlSW5kZXggPSBsWzBdOwogICAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBncmFwaC5tZXRhLm5vZGVzW3NvdXJjZUluZGV4XTsKICAgICAgICAgIHZhciBzb3VyY2VWYWx1ZSA9IGRhdGEubm9kZXMuZmluZCgoaSkgPT4gaVswXSA9PT0gc291cmNlSW5kZXgpOwogICAgICAgICAgdmFyIHR5cGUgPSB0eXBlTWFwLmdldChzb3VyY2VOb2RlWzBdWzBdKTsKICAgICAgICAgIHZhciBuYW1lID0gc291cmNlTm9kZVsxXTsKICAgICAgICAgIGlmICh0eXBlID09PSAicHVsbCIpCiAgICAgICAgICAgIG5hbWUgPSAiIyIgKyBzb3VyY2VOb2RlWzBdLnNsaWNlKDEpICsgIiAiICsgc291cmNlTm9kZVsxXTsKICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICJpc3N1ZSIpCiAgICAgICAgICAgIG5hbWUgPQogICAgICAgICAgICAgICIjIiArCiAgICAgICAgICAgICAgKHBsYXRmb3JtID09ICJnaXRlZSIKICAgICAgICAgICAgICAgID8gcGFyc2VJbnQoc291cmNlTm9kZVswXS5zbGljZSgxKSkudG9TdHJpbmcoMzYpLnRvVXBwZXJDYXNlKCkKICAgICAgICAgICAgICAgIDogc291cmNlTm9kZVswXS5zbGljZSgxKSkgKwogICAgICAgICAgICAgICIgIiArCiAgICAgICAgICAgICAgc291cmNlTm9kZVsxXTsKICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgIHBhcnNlRmxvYXQoKDEgLSBncmFwaC5tZXRhLnJldGVudGlvbkZhY3RvcikgKiBsWzJdKS50b0ZpeGVkKDMpLAogICAgICAgICAgICBzb3VyY2VWYWx1ZVsyXSwKICAgICAgICAgICAgcGFyc2VGbG9hdCgKICAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAoMSAtIGdyYXBoLm1ldGEucmV0ZW50aW9uRmFjdG9yKSAqCiAgICAgICAgICAgICAgICBsWzJdICoKICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlWzJdCiAgICAgICAgICAgICAgKS50b0ZpeGVkKDMpCiAgICAgICAgICAgICksCiAgICAgICAgICBdOwogICAgICAgIH0pCiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGJbM10gLSBhWzNdKTsKICAgICAgdmFyIHJlcG9Ob2RlID0gZGF0YS5ub2Rlcy5maW5kKChpKSA9PiBpWzBdID09PSAwKTsKICAgICAgb3RoZXIucHVzaChbCiAgICAgICAgZ3JhcGgubWV0YS5yZXBvTmFtZSwKICAgICAgICAoMSAvIChkYXRhLm5vZGVzLmxlbmd0aCAtIDEpKS50b0ZpeGVkKDMpLAogICAgICAgIHJlcG9Ob2RlWzJdLAogICAgICAgICgoMSAvIChkYXRhLm5vZGVzLmxlbmd0aCAtIDEpKSAqIHJlcG9Ob2RlWzJdKS50b0ZpeGVkKDMpLAogICAgICBdKTsKICAgICAgZm9yICh2YXIgciBvZiBvdGhlcikgewogICAgICAgIGFkZFJvdyh0YWJsZSwgcik7CiAgICAgIH0KICAgIH0sCiAgICBvbkdyYXBoRGF0YUxvYWRlZChncmFwaCkgewogICAgICBzZXRMZWFkZXJib2FyZChncmFwaCk7CiAgICAgIHZhciBkYXRhID0gZ3JhcGguZGF0YVttb250aF07CiAgICAgIHZhciBub2RlcyA9IGRhdGEubm9kZXMubWFwKChub2RlKSA9PiB7CiAgICAgICAgdmFyIGlkID0gZ3JhcGgubWV0YS5ub2Rlc1tub2RlWzBdXVswXTsKICAgICAgICB2YXIgdHlwZSA9IHR5cGVNYXAuZ2V0KGlkWzBdKTsKICAgICAgICB2YXIgbmFtZSA9IGdyYXBoLm1ldGEubm9kZXNbbm9kZVswXV1bMV07CiAgICAgICAgaWYgKHR5cGUgPT09ICJwdWxsIikgbmFtZSA9ICIjIiArIGlkLnNsaWNlKDEpOwogICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICJpc3N1ZSIpCiAgICAgICAgICBuYW1lID0KICAgICAgICAgICAgIiMiICsKICAgICAgICAgICAgKHBsYXRmb3JtID09ICJnaXRlZSIKICAgICAgICAgICAgICA/IHBhcnNlSW50KGlkLnNsaWNlKDEpKS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKQogICAgICAgICAgICAgIDogaWQuc2xpY2UoMSkpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZCwKICAgICAgICAgIGluaXRpYWxWYWx1ZTogbm9kZVsxXSwKICAgICAgICAgIHZhbHVlOiBub2RlWzJdLAogICAgICAgICAgbmFtZSwKICAgICAgICAgIHN5bWJvbFNpemU6IE1hdGgubG9nKG5vZGVbMl0gKyAxKSAqIDEwLAogICAgICAgICAgY2F0ZWdvcnk6IHR5cGUsCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHZhciBsaW5rcyA9IGRhdGEubGlua3MubWFwKChsaW5rKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNvdXJjZTogZ3JhcGgubWV0YS5ub2Rlc1tsaW5rWzBdXVswXSwKICAgICAgICAgIHRhcmdldDogZ3JhcGgubWV0YS5ub2Rlc1tsaW5rWzFdXVswXSwKICAgICAgICAgIHZhbHVlOiBsaW5rWzJdLAogICAgICAgIH07CiAgICAgIH0pOwogICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7CiAgICAgICAgaWYgKG5vZGUuY2F0ZWdvcnkgPT09ICJpc3N1ZSIgfHwgbm9kZS5jYXRlZ29yeSA9PT0gInB1bGwiKSB7CiAgICAgICAgICBsaW5rcy5wdXNoKHsKICAgICAgICAgICAgc291cmNlOiBncmFwaC5tZXRhLm5vZGVzWzBdWzBdLAogICAgICAgICAgICB0YXJnZXQ6IG5vZGUuaWQsCiAgICAgICAgICAgIHZhbHVlOiAwLjA1LAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKHR5cGVNYXAudmFsdWVzKCkpOwogICAgICB2YXIgb3B0aW9uID0gewogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiBgQ29tbXVuaXR5IE9wZW5SYW5rIGZvciAke3JlcG9OYW1lfSBpbiAke21vbnRofWAsCiAgICAgICAgICB0b3A6ICJib3R0b20iLAogICAgICAgICAgbGVmdDogInJpZ2h0IiwKICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogWwogICAgICAgICAgewogICAgICAgICAgICBkYXRhOiBjYXRlZ29yaWVzLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICJpdGVtIiwKICAgICAgICB9LAogICAgICAgIHNlcmllczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiQ29sbGFib3JhdGl2ZSBncmFwaCIsCiAgICAgICAgICAgIHR5cGU6ICJncmFwaCIsCiAgICAgICAgICAgIGxheW91dDogImZvcmNlIiwKICAgICAgICAgICAgbm9kZXMsCiAgICAgICAgICAgIGxpbmtzLAogICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLm1hcCgoYykgPT4gewogICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGMgfTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHJvYW06IHRydWUsCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgcG9zaXRpb246ICJyaWdodCIsCiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZm9yY2U6IHsKICAgICAgICAgICAgICBsYXlvdXRBbmltYXRpb246IGZhbHNlLAogICAgICAgICAgICAgIHJlcHVsc2lvbjogMzAwLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9OwogICAgICBjaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgY2hhcnQub24oImRibGNsaWNrIiwgZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgIHNldERldGFpbHMoZ3JhcGgsIHBhcmFtcy5kYXRhLmlkKTsKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/DataMap","sourcesContent":["<template>\n  <div id=\"main\" class=\"bordered\">\n    <div ref=\"graph\" class=\"bordered\"></div>\n    <div id=\"control\" class=\"bordered\">\n      <div id=\"list\" class=\"bordered\">\n        <div id=\"title\">\n          <h2>Leaderboard</h2>\n        </div>\n        <div id=\"leaderboard_div\" class=\"scrollit\">\n          <table>\n            <thead>\n              <tr>\n                <th>Login</th>\n                <th>OpenRank</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- Leaderboard rows will be dynamically inserted here -->\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div id=\"details\" class=\"bordered\">\n        <div id=\"title\">\n          <h2>Details</h2>\n        </div>\n        <div id=\"details_div\" class=\"scrollit\">\n          <table>\n            <thead>\n              <tr>\n                <th>From</th>\n                <th>Ratio</th>\n                <th>Value</th>\n                <th>OpenRank</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- Details rows will be dynamically inserted here -->\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script src=\"https://assets.codepen.io/9606223/open_digger_utils.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/echarts/5.3.2/echarts.min.js\"></script>\n    <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js\"></script>\n \n<script>\nimport * as echarts from \"echarts\";\nimport axios from 'axios';\nvar month = decodeURIComponent(getUrlParam('month', '202406'));\nexport default {\n  name: \"GraphComponent\",\n  data() {\n    return {\n      chart: null,\n      typeMap: new Map([\n        [\"r\", \"repo\"],\n        [\"i\", \"issue\"],\n        [\"p\", \"pull\"],\n        [\"u\", \"user\"],\n      ]),\n      leaderboardData: [],\n      detailsData: [],\n    };\n  },\n  mounted() {\n    console.log(\"我进来了\");\n    this.initChart();\n    this.loadData();\n  },\n  methods: {\n    initChart() {\n      this.chart = echarts.init(this.$refs.graph);\n    },\n    loadData() {\n      axios\n        .get(\n          \"https://oss.x-lab.info/open_digger/github/umijs/umi/community_openrank.json\"\n        )\n        .then((response) => {\n          console.log(response+\"SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\")\n          this.data = response.data; // 将获取的数据保存到组件的数据属性中\n        })\n        .catch((error) => {\n          console.error(\"error\", error);\n        });\n    },\n    clearDiv(id) {\n      var div = document.getElementById(id);\n      if (div && div.hasChildNodes()) {\n        var children = div.childNodes;\n        for (var child of children) {\n          div.removeChild(child);\n        }\n      }\n    },\n    addRow(table, texts) {\n      var tr = table.insertRow();\n      for (var t of texts) {\n        var td = tr.insertCell();\n        td.appendChild(document.createTextNode(t.toString().slice(0, 20)));\n      }\n    },\n    setLeaderboard(graph) {\n      clearDiv(\"leaderboard_table\");\n      var table = document.getElementById(\"leaderboard_table\");\n      addRow(table, [\"Login\", \"OpenRank\"]);\n      var users = graph.data[month].nodes\n        .map((node) => ({\n          id: graph.meta.nodes[node[0]][0],\n          initialValue: node[1],\n          value: node[2],\n          login: graph.meta.nodes[node[0]][1],\n        }))\n        .filter((n) => n.id[0] === \"u\")\n        .sort((a, b) => b.value - a.value);\n      for (var u of users) {\n        addRow(table, [u.login, u.value]);\n      }\n    },\n    setDetails(graph, id) {\n      clearDiv(\"details_table\");\n      var table = document.getElementById(\"details_table\");\n      var index = graph.meta.nodes.findIndex((i) => i[0] === id);\n      var data = graph.data[month];\n      var selfNode = data.nodes.find((i) => i[0] === index);\n      addRow(table, [\"From\", \"Ratio\", \"Value\", \"OpenRank\"]);\n      addRow(table, [\n        \"Self\",\n        graph.meta.retentionFactor,\n        selfNode[1],\n        (graph.meta.retentionFactor * selfNode[1]).toFixed(3),\n      ]);\n\n      var other = data.links\n        .filter((l) => l[1] == index)\n        .map((l) => {\n          var sourceIndex = l[0];\n          var sourceNode = graph.meta.nodes[sourceIndex];\n          var sourceValue = data.nodes.find((i) => i[0] === sourceIndex);\n          var type = typeMap.get(sourceNode[0][0]);\n          var name = sourceNode[1];\n          if (type === \"pull\")\n            name = \"#\" + sourceNode[0].slice(1) + \" \" + sourceNode[1];\n          else if (type === \"issue\")\n            name =\n              \"#\" +\n              (platform == \"gitee\"\n                ? parseInt(sourceNode[0].slice(1)).toString(36).toUpperCase()\n                : sourceNode[0].slice(1)) +\n              \" \" +\n              sourceNode[1];\n          return [\n            name,\n            parseFloat((1 - graph.meta.retentionFactor) * l[2]).toFixed(3),\n            sourceValue[2],\n            parseFloat(\n              (\n                (1 - graph.meta.retentionFactor) *\n                l[2] *\n                sourceValue[2]\n              ).toFixed(3)\n            ),\n          ];\n        })\n        .sort((a, b) => b[3] - a[3]);\n      var repoNode = data.nodes.find((i) => i[0] === 0);\n      other.push([\n        graph.meta.repoName,\n        (1 / (data.nodes.length - 1)).toFixed(3),\n        repoNode[2],\n        ((1 / (data.nodes.length - 1)) * repoNode[2]).toFixed(3),\n      ]);\n      for (var r of other) {\n        addRow(table, r);\n      }\n    },\n    onGraphDataLoaded(graph) {\n      setLeaderboard(graph);\n      var data = graph.data[month];\n      var nodes = data.nodes.map((node) => {\n        var id = graph.meta.nodes[node[0]][0];\n        var type = typeMap.get(id[0]);\n        var name = graph.meta.nodes[node[0]][1];\n        if (type === \"pull\") name = \"#\" + id.slice(1);\n        else if (type === \"issue\")\n          name =\n            \"#\" +\n            (platform == \"gitee\"\n              ? parseInt(id.slice(1)).toString(36).toUpperCase()\n              : id.slice(1));\n        return {\n          id,\n          initialValue: node[1],\n          value: node[2],\n          name,\n          symbolSize: Math.log(node[2] + 1) * 10,\n          category: type,\n        };\n      });\n      var links = data.links.map((link) => {\n        return {\n          source: graph.meta.nodes[link[0]][0],\n          target: graph.meta.nodes[link[1]][0],\n          value: link[2],\n        };\n      });\n      nodes.forEach((node) => {\n        if (node.category === \"issue\" || node.category === \"pull\") {\n          links.push({\n            source: graph.meta.nodes[0][0],\n            target: node.id,\n            value: 0.05,\n          });\n        }\n      });\n      var categories = Array.from(typeMap.values());\n      var option = {\n        title: {\n          text: `Community OpenRank for ${repoName} in ${month}`,\n          top: \"bottom\",\n          left: \"right\",\n        },\n        legend: [\n          {\n            data: categories,\n          },\n        ],\n        tooltip: {\n          trigger: \"item\",\n        },\n        series: [\n          {\n            name: \"Collaborative graph\",\n            type: \"graph\",\n            layout: \"force\",\n            nodes,\n            links,\n            categories: categories.map((c) => {\n              return { name: c };\n            }),\n            roam: true,\n            label: {\n              position: \"right\",\n              show: true,\n            },\n            force: {\n              layoutAnimation: false,\n              repulsion: 300,\n            },\n          },\n        ],\n      };\n      chart.setOption(option);\n      chart.on(\"dblclick\", function (params) {\n        setDetails(graph, params.data.id);\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n.bordered {\n  border: 1px solid #000;\n}\n.scrollit {\n  overflow-y: auto;\n}\n#main {\n  display: flex;\n}\n\n#graph {\n  width: 800px;\n  height: 800px;\n}\n\n#control {\n  width: 500px;\n  height: 800px;\n}\n\n#list {\n  width: 480px;\n  height: 300px;\n  margin: 10px;\n}\n\n#details {\n  width: 480px;\n  height: 440px;\n  margin: 10px;\n}\n\n#title {\n  text-align: center;\n  font-size: 12px;\n}\n\n#leaderboard_table {\n  width: 95%;\n  margin: 10px;\n}\n\n#details_table {\n  width: 95%;\n  margin: 10px;\n}\n\n.bordered {\n  border: 2px solid grey;\n}\n\n#leaderboard_div {\n  height: 240px;\n}\n\n#details_div {\n  height: 380px;\n}\n\n.scrollit {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\ntr:nth-child(even) {\n  background-color: #d6eeee;\n}\n\ntable,\nth,\ntd {\n  border: 1px solid black;\n}\n</style>"]}]}