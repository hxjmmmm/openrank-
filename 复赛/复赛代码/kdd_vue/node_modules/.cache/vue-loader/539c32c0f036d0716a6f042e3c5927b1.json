{"remainingRequest":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sa\\Desktop\\openrank\\08\\src\\components\\BasicProportionChart\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\src\\components\\BasicProportionChart\\index.vue","mtime":1735729210529},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\babel-loader\\lib\\index.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1734174292000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmxldCBjaGFydCA9IG51bGw7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGxhbmd1YWdlUHJvcG9ydGlvbnM6IEFycmF5LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWtmOWCqOmaj+acuueUn+aIkOeahOivreiogOWNoOavlOaVsOaNrgogICAgICBzYTpbXSwKICAgICAgLy/mlrDlop4gICAgIDEuMSAKICAgICAgCiAgICAgIAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRDaGFydCgpIHsKICAgICAgaWYgKG51bGwgIT0gY2hhcnQgJiYgdW5kZWZpbmVkICE9IGNoYXJ0KSB7CiAgICAgICAgY2hhcnQuZGlzcG9zZSgpOwogICAgICB9CiAgICAgIGNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuYmFzaWNQcm9wb3J0aW9uQ2hhcnQpOwogICAgICB0aGlzLnNldE9wdGlvbnMoKTsKICAgIH0sCiAgICBzZXRPcHRpb25zKCkgewogICAgICBsZXQgbGlzdCA9IHRoaXMuc2EubWFwKChpdGVtLCBpbmRleCkgPT4gKHsKICAgICAgICBuYW1lOiBpdGVtLmxhbmd1YWdlLAogICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLAogICAgICB9KSk7CiAgICAgIGxldCB0aXRsZUxpc3QgPSBbXSwgc2VyaWVzTGlzdCA9IFtdOwogICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgdGl0bGVMaXN0LnB1c2goewogICAgICAgICAgdGV4dDogaXRlbS5uYW1lLAogICAgICAgICAgdG9wOiAnNzUlJywKICAgICAgICAgIGxlZnQ6IGluZGV4ICogMzAgKyAxMiArICclJywKICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICBmb250V2VpZ2h0OiAnbm9ybWFsJywKICAgICAgICAgICAgY29sb3I6ICcjQkNCQ0JGJywKICAgICAgICAgICAgZm9udFNpemU6ICcxMicsCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICAgIHNlcmllc0xpc3QucHVzaCh7CiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIGNsb2NrV2lzZTogdHJ1ZSwKICAgICAgICAgIHJhZGl1czogWyc1MCUnLCAnNjYlJ10sCiAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIGhvdmVyQW5pbWF0aW9uOiBmYWxzZSwKICAgICAgICAgIGNlbnRlcjogW2luZGV4ICogMzAgKyAyMCArICclJywgJzM1JSddLAogICAgICAgICAgZGF0YTogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsCiAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy52YWx1ZSArICclJzsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0JywKICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjRkZGJywKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgICAgICBjb2xvcjogewogICAgICAgICAgICAgICAgICAgIGNvbG9yU3RvcHM6IFsKICAgICAgICAgICAgICAgICAgICAgIHsgb2Zmc2V0OiAwLCBjb2xvcjogJyNEMzJFNTgnIH0sCiAgICAgICAgICAgICAgICAgICAgICB7IG9mZnNldDogMSwgY29sb3I6ICcjRjk5MjY2JyB9LAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGxhYmVsOiB7fSwKICAgICAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7IHNob3c6IGZhbHNlIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsgbmFtZTogJ090aGVycycsIHZhbHVlOiAxMDAgLSBpdGVtLnZhbHVlIH0sCiAgICAgICAgICBdLAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgbGV0IG9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogdGl0bGVMaXN0LAogICAgICAgIGNvbG9yOiBbJ3JnYmEoNywgMTU4LCAyNTQsIC45KSddLAogICAgICAgIHNlcmllczogc2VyaWVzTGlzdCwKICAgICAgfTsKICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CiAgICB9LAoKCiAgfSwKICB3YXRjaDogewogIC8vIOebkeWQrOWNleS4qiBwcm9wCiAgbGFuZ3VhZ2VQcm9wb3J0aW9uczogewogICAgaGFuZGxlcihuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCAmJiBuZXdWYWwubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5zYSA9IG5ld1ZhbDsKICAgICAgICAgIHRoaXMuaW5pdENoYXJ0KCk7IAogICAgICB9CiAgICB9LAogICAgZGVlcDogdHJ1ZSwKICAgIGltbWVkaWF0ZTogdHJ1ZQogIH0sCiAgLy8g55uR5ZCs5Y+m5LiA5LiqIHByb3AKICBsaW5rczI6IHsKICAgIGhhbmRsZXIobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgJiYgbmV3VmFsLmxlbmd0aCkgewogICAgICAgIHRoaXMuYSA9IG5ld1ZhbDsgCiAgICAgICAgICB0aGlzLmluaXRDaGFydCgpOyAKICAgICAgfQogICAgfSwKICAgIGRlZXA6IHRydWUsCiAgICBpbW1lZGlhdGU6IHRydWUKICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZW5lcmF0ZVJhbmRvbUxhbmd1YWdlUHJvcG9ydGlvbnMoKTsKICAgIHRoaXMuaW5pdENoYXJ0KCk7CgogICAgCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"index.vue","sourceRoot":"src/components/BasicProportionChart","sourcesContent":["<template>\n  <div ref=\"basicProportionChart\" style=\"width: 100%; height: 100%\"></div>\n</template>\n\n<script>\nlet chart = null;\n\nexport default {\n  props: {\n    languageProportions: Array,\n  },\n  data() {\n    return {\n      // 存储随机生成的语言占比数据\n      sa:[],\n      //新增     1.1 \n      \n      \n    };\n  },\n  methods: {\n    initChart() {\n      if (null != chart && undefined != chart) {\n        chart.dispose();\n      }\n      chart = this.$echarts.init(this.$refs.basicProportionChart);\n      this.setOptions();\n    },\n    setOptions() {\n      let list = this.sa.map((item, index) => ({\n        name: item.language,\n        value: item.value,\n      }));\n      let titleList = [], seriesList = [];\n      list.forEach((item, index) => {\n        titleList.push({\n          text: item.name,\n          top: '75%',\n          left: index * 30 + 12 + '%',\n          textStyle: {\n            fontWeight: 'normal',\n            color: '#BCBCBF',\n            fontSize: '12',\n          },\n        });\n        seriesList.push({\n          name: item.name,\n          type: 'pie',\n          clockWise: true,\n          radius: ['50%', '66%'],\n          itemStyle: {\n            normal: {\n              label: {\n                show: false,\n              },\n              labelLine: {\n                show: false,\n              },\n            },\n          },\n          hoverAnimation: false,\n          center: [index * 30 + 20 + '%', '35%'],\n          data: [\n            {\n              value: item.value,\n              name: item.name,\n              label: {\n                normal: {\n                  formatter: function (params) {\n                    return params.value + '%';\n                  },\n                  position: 'center',\n                  show: true,\n                  textStyle: {\n                    fontSize: '14',\n                    fontWeight: 'bold',\n                    color: '#FFF',\n                  },\n                },\n              },\n              itemStyle: {\n                normal: {\n                  color: {\n                    colorStops: [\n                      { offset: 0, color: '#D32E58' },\n                      { offset: 1, color: '#F99266' },\n                    ],\n                  },\n                  label: {},\n                  labelLine: { show: false },\n                },\n              },\n            },\n            { name: 'Others', value: 100 - item.value },\n          ],\n        });\n      });\n      let option = {\n        title: titleList,\n        color: ['rgba(7, 158, 254, .9)'],\n        series: seriesList,\n      };\n      chart.setOption(option);\n    },\n\n\n  },\n  watch: {\n  // 监听单个 prop\n  languageProportions: {\n    handler(newVal) {\n      if (newVal && newVal.length) {\n        this.sa = newVal;\n          this.initChart(); \n      }\n    },\n    deep: true,\n    immediate: true\n  },\n  // 监听另一个 prop\n  links2: {\n    handler(newVal) {\n      if (newVal && newVal.length) {\n        this.a = newVal; \n          this.initChart(); \n      }\n    },\n    deep: true,\n    immediate: true\n  }\n  },\n  mounted() {\n    this.generateRandomLanguageProportions();\n    this.initChart();\n\n    \n  },\n};\n</script>\n\n\n<!-- <template>\n  <div ref=\"basicProportionChart\" style=\"width: 100%; height: 100%\"></div>\n</template>\n<script>\nlet chart = null\nconst calculateProportion = (value, total) => {\n  return ((value / total) * 100).toFixed(0)\n}\nexport default {\n  props: {\n    data: Object\n  },\n  methods: {\n    initChart () {\n      if (null != chart && undefined != chart) {\n        chart.dispose()\n      }\n      chart = this.$echarts.init(this.$refs.basicProportionChart)\n      this.setOptions()\n    },\n    setOptions() {\n      let list = [\n        {\n          name: 'java',\n          value: calculateProportion(this.data.currentConfirmedCount, this.data.confirmedCount)\n        },\n        {\n          name: 'c++',\n          value: calculateProportion(this.data.importedCount, this.data.confirmedCount)\n        },\n        {\n          name: '其他',\n          value: calculateProportion(this.data.curedCount, this.data.confirmedCount)\n        }\n      ]\n      let titleList = [], seriesList = []\n      list.forEach((item, index) => {\n        titleList.push({\n          text: item.name,\n          top: '75%',\n          left: index * 30 + 12 + '%',\n          textStyle: {\n            fontWeight: 'normal',\n            color: '#BCBCBF',\n            fontSize: '12'\n          }\n        })\n        // \n        seriesList.push(\n          {\n            name: item.name,\n            type: 'pie',\n            clockWise: true,\n            radius: ['50%', '66%'],\n            itemStyle: {\n              normal: {\n                label: {\n                  show: false\n                },\n                labelLine: {\n                  show: false\n                }\n              }\n            },\n            hoverAnimation: false,\n            center: [index * 30 + 20 + '%', '35%'],\n            data: [\n              {\n                value: item.value,\n                name: item.name,\n                label: {\n                  normal: {\n                    formatter: function (params) {\n                      return params.value + '%';\n                    },\n                    position: 'center',\n                    show: true,\n                    textStyle: {\n                      fontSize: '14',\n                      fontWeight: 'bold',\n                      color: '#FFF'\n                    }\n                  }\n                },\n                itemStyle: {\n                  normal: {\n                    color: { // 完成的圆环的颜色\n                      colorStops: [{\n                        offset: 0,\n                        color: '#D32E58' // 0% 处的颜色\n                      }, {\n                        offset: 1,\n                        color: '#F99266' // 100% 处的颜色\n                      }]\n                    },\n                    label: {\n                      // show: false\n                    },\n                    labelLine: {\n                      show: false\n                    }\n                  }\n                }\n              }, {\n                name: 'lanweihong',\n                value: 100 - item.value\n              }]\n          }\n        )\n      })\n      let option = {\n        title: titleList,\n        color: ['rgba(7, 158, 254, .9)'],\n        series: seriesList\n      }\n      chart.setOption(option)\n    }\n  },\n  watch: {\n    data: {\n      handler (newValue, oldValue) {\n        if (oldValue != newValue) {\n          this.setOptions()\n        }\n      },\n      deep: true\n    }\n  }\n}\n</script> -->"]}]}