{"remainingRequest":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sa\\Desktop\\openrank\\08\\mock\\index.js","dependencies":[{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\mock\\index.js","mtime":1638539142000},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\babel.config.js","mtime":1638539142000},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\openrank\\08\\node_modules\\babel-loader\\lib\\index.js","mtime":1734174290000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Y29uc3QgTW9jayA9IHJlcXVpcmUoJ21vY2tqcycpOwpjb25zdCBjb3ZpZDE5ID0gcmVxdWlyZSgnLi9jb3ZpZDE5Jyk7CmNvbnN0IHsKICBwYXJhbTJPYmoKfSA9IHJlcXVpcmUoJy4vdXRpbHMnKTsKY29uc3QgbW9ja3MgPSBbLi4uY292aWQxOV07CmNvbnN0IGluaXRNb2NrRGF0YSA9ICgpID0+IHsKICBNb2NrLlhIUi5wcm90b3R5cGUucHJveHlfc2VuZCA9IE1vY2suWEhSLnByb3RvdHlwZS5zZW5kOwogIE1vY2suWEhSLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuY3VzdG9tLnhocikgewogICAgICB0aGlzLmN1c3RvbS54aHIud2l0aENyZWRlbnRpYWxzID0gdGhpcy53aXRoQ3JlZGVudGlhbHMgfHwgZmFsc2U7CiAgICAgIGlmICh0aGlzLnJlc3BvbnNlVHlwZSkgewogICAgICAgIHRoaXMuY3VzdG9tLnhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVHlwZTsKICAgICAgfQogICAgfQogICAgdGhpcy5wcm94eV9zZW5kKC4uLmFyZ3VtZW50cyk7CiAgfTsKICBmdW5jdGlvbiBYSFIyRXhwcmVzc1JlcVdyYXAocmVzcG9uZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICAgIGxldCByZXN1bHQgPSBudWxsOwogICAgICBpZiAocmVzcG9uZCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgYm9keSwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICB1cmwKICAgICAgICB9ID0gb3B0aW9uczsKICAgICAgICByZXN1bHQgPSByZXNwb25kKHsKICAgICAgICAgIG1ldGhvZDogdHlwZSwKICAgICAgICAgIGJvZHk6IEpTT04ucGFyc2UoYm9keSksCiAgICAgICAgICBxdWVyeTogcGFyYW0yT2JqKHVybCkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSByZXNwb25kOwogICAgICB9CiAgICAgIHJldHVybiBNb2NrLm1vY2socmVzdWx0KTsKICAgIH07CiAgfQogIGZvciAoY29uc3QgaSBvZiBtb2NrcykgewogICAgTW9jay5tb2NrKG5ldyBSZWdFeHAoaS51cmwpLCBpLnR5cGUgfHwgJ2dldCcsIFhIUjJFeHByZXNzUmVxV3JhcChpLnJlc3BvbnNlKSk7CiAgfQp9Owptb2R1bGUuZXhwb3J0cyA9IHsKICBtb2NrcywKICBpbml0TW9ja0RhdGEKfTs="},{"version":3,"names":["Mock","require","covid19","param2Obj","mocks","initMockData","XHR","prototype","proxy_send","send","custom","xhr","withCredentials","responseType","arguments","XHR2ExpressReqWrap","respond","options","result","Function","body","type","url","method","JSON","parse","query","mock","i","RegExp","response","module","exports"],"sources":["C:/Users/sa/Desktop/openrank/08/mock/index.js"],"sourcesContent":["const Mock = require('mockjs')\n\nconst covid19 = require('./covid19')\nconst { param2Obj } = require('./utils')\n\nconst mocks = [\n  ...covid19\n]\n\nconst initMockData = () => {\n\n  Mock.XHR.prototype.proxy_send = Mock.XHR.prototype.send\n  Mock.XHR.prototype.send = function() {\n    if (this.custom.xhr) {\n      this.custom.xhr.withCredentials = this.withCredentials || false\n\n      if (this.responseType) {\n        this.custom.xhr.responseType = this.responseType\n      }\n    }\n    this.proxy_send(...arguments)\n  }\n\n  function XHR2ExpressReqWrap(respond) {\n    return function(options) {\n      let result = null\n      if (respond instanceof Function) {\n        const { body, type, url } = options\n        result = respond({\n          method: type,\n          body: JSON.parse(body),\n          query: param2Obj(url)\n        })\n      } else {\n        result = respond\n      }\n      return Mock.mock(result)\n    }\n  }\n\n  for (const i of mocks) {\n    Mock.mock(new RegExp(i.url), i.type || 'get', XHR2ExpressReqWrap(i.response))\n  }\n}\n\nmodule.exports = {\n  mocks,\n  initMockData\n}"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE9B,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAW,CAAC;AACpC,MAAM;EAAEE;AAAU,CAAC,GAAGF,OAAO,CAAC,SAAS,CAAC;AAExC,MAAMG,KAAK,GAAG,CACZ,GAAGF,OAAO,CACX;AAED,MAAMG,YAAY,GAAGA,CAAA,KAAM;EAEzBL,IAAI,CAACM,GAAG,CAACC,SAAS,CAACC,UAAU,GAAGR,IAAI,CAACM,GAAG,CAACC,SAAS,CAACE,IAAI;EACvDT,IAAI,CAACM,GAAG,CAACC,SAAS,CAACE,IAAI,GAAG,YAAW;IACnC,IAAI,IAAI,CAACC,MAAM,CAACC,GAAG,EAAE;MACnB,IAAI,CAACD,MAAM,CAACC,GAAG,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,IAAI,KAAK;MAE/D,IAAI,IAAI,CAACC,YAAY,EAAE;QACrB,IAAI,CAACH,MAAM,CAACC,GAAG,CAACE,YAAY,GAAG,IAAI,CAACA,YAAY;MAClD;IACF;IACA,IAAI,CAACL,UAAU,CAAC,GAAGM,SAAS,CAAC;EAC/B,CAAC;EAED,SAASC,kBAAkBA,CAACC,OAAO,EAAE;IACnC,OAAO,UAASC,OAAO,EAAE;MACvB,IAAIC,MAAM,GAAG,IAAI;MACjB,IAAIF,OAAO,YAAYG,QAAQ,EAAE;QAC/B,MAAM;UAAEC,IAAI;UAAEC,IAAI;UAAEC;QAAI,CAAC,GAAGL,OAAO;QACnCC,MAAM,GAAGF,OAAO,CAAC;UACfO,MAAM,EAAEF,IAAI;UACZD,IAAI,EAAEI,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;UACtBM,KAAK,EAAEvB,SAAS,CAACmB,GAAG;QACtB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLJ,MAAM,GAAGF,OAAO;MAClB;MACA,OAAOhB,IAAI,CAAC2B,IAAI,CAACT,MAAM,CAAC;IAC1B,CAAC;EACH;EAEA,KAAK,MAAMU,CAAC,IAAIxB,KAAK,EAAE;IACrBJ,IAAI,CAAC2B,IAAI,CAAC,IAAIE,MAAM,CAACD,CAAC,CAACN,GAAG,CAAC,EAAEM,CAAC,CAACP,IAAI,IAAI,KAAK,EAAEN,kBAAkB,CAACa,CAAC,CAACE,QAAQ,CAAC,CAAC;EAC/E;AACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EACf5B,KAAK;EACLC;AACF,CAAC","ignoreList":[]}]}