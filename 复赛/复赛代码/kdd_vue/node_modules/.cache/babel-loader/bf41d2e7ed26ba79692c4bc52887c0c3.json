{"remainingRequest":"C:\\Users\\sa\\Desktop\\08\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\sa\\Desktop\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sa\\Desktop\\08\\src\\components\\DataMap\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\sa\\Desktop\\08\\src\\components\\DataMap\\index.vue","mtime":1735111790777},{"path":"C:\\Users\\sa\\Desktop\\08\\babel.config.js","mtime":1638539142000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\babel-loader\\lib\\index.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734174290000},{"path":"C:\\Users\\sa\\Desktop\\08\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1734174292000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgKiBhcyBlY2hhcnRzIGZyb20gImVjaGFydHMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgbW9udGggPSBkZWNvZGVVUklDb21wb25lbnQoZ2V0VXJsUGFyYW0oJ21vbnRoJywgJzIwMjQwNicpKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHcmFwaENvbXBvbmVudCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0OiBudWxsLAogICAgICB0eXBlTWFwOiBuZXcgTWFwKFtbInIiLCAicmVwbyJdLCBbImkiLCAiaXNzdWUiXSwgWyJwIiwgInB1bGwiXSwgWyJ1IiwgInVzZXIiXV0pLAogICAgICBsZWFkZXJib2FyZERhdGE6IFtdLAogICAgICBkZXRhaWxzRGF0YTogW10KICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coIuaIkei/m+adpeS6hiIpOwogICAgdGhpcy5pbml0Q2hhcnQoKTsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRDaGFydCgpIHsKICAgICAgdGhpcy5jaGFydCA9IGVjaGFydHMuaW5pdCh0aGlzLiRyZWZzLmdyYXBoKTsKICAgIH0sCiAgICBsb2FkRGF0YSgpIHsKICAgICAgYXhpb3MuZ2V0KCJodHRwczovL29zcy54LWxhYi5pbmZvL29wZW5fZGlnZ2VyL2dpdGh1Yi91bWlqcy91bWkvY29tbXVuaXR5X29wZW5yYW5rLmpzb24iKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSArICJTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1MiKTsKICAgICAgICB0aGlzLmRhdGEgPSByZXNwb25zZS5kYXRhOyAvLyDlsIbojrflj5bnmoTmlbDmja7kv53lrZjliLDnu4Tku7bnmoTmlbDmja7lsZ7mgKfkuK0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoImVycm9yIiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBjbGVhckRpdihpZCkgewogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogICAgICBpZiAoZGl2ICYmIGRpdi5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXYuY2hpbGROb2RlczsKICAgICAgICBmb3IgKHZhciBjaGlsZCBvZiBjaGlsZHJlbikgewogICAgICAgICAgZGl2LnJlbW92ZUNoaWxkKGNoaWxkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRSb3codGFibGUsIHRleHRzKSB7CiAgICAgIHZhciB0ciA9IHRhYmxlLmluc2VydFJvdygpOwogICAgICBmb3IgKHZhciB0IG9mIHRleHRzKSB7CiAgICAgICAgdmFyIHRkID0gdHIuaW5zZXJ0Q2VsbCgpOwogICAgICAgIHRkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQudG9TdHJpbmcoKS5zbGljZSgwLCAyMCkpKTsKICAgICAgfQogICAgfSwKICAgIHNldExlYWRlcmJvYXJkKGdyYXBoKSB7CiAgICAgIGNsZWFyRGl2KCJsZWFkZXJib2FyZF90YWJsZSIpOwogICAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGVhZGVyYm9hcmRfdGFibGUiKTsKICAgICAgYWRkUm93KHRhYmxlLCBbIkxvZ2luIiwgIk9wZW5SYW5rIl0pOwogICAgICB2YXIgdXNlcnMgPSBncmFwaC5kYXRhW21vbnRoXS5ub2Rlcy5tYXAobm9kZSA9PiAoewogICAgICAgIGlkOiBncmFwaC5tZXRhLm5vZGVzW25vZGVbMF1dWzBdLAogICAgICAgIGluaXRpYWxWYWx1ZTogbm9kZVsxXSwKICAgICAgICB2YWx1ZTogbm9kZVsyXSwKICAgICAgICBsb2dpbjogZ3JhcGgubWV0YS5ub2Rlc1tub2RlWzBdXVsxXQogICAgICB9KSkuZmlsdGVyKG4gPT4gbi5pZFswXSA9PT0gInUiKS5zb3J0KChhLCBiKSA9PiBiLnZhbHVlIC0gYS52YWx1ZSk7CiAgICAgIGZvciAodmFyIHUgb2YgdXNlcnMpIHsKICAgICAgICBhZGRSb3codGFibGUsIFt1LmxvZ2luLCB1LnZhbHVlXSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXREZXRhaWxzKGdyYXBoLCBpZCkgewogICAgICBjbGVhckRpdigiZGV0YWlsc190YWJsZSIpOwogICAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGV0YWlsc190YWJsZSIpOwogICAgICB2YXIgaW5kZXggPSBncmFwaC5tZXRhLm5vZGVzLmZpbmRJbmRleChpID0+IGlbMF0gPT09IGlkKTsKICAgICAgdmFyIGRhdGEgPSBncmFwaC5kYXRhW21vbnRoXTsKICAgICAgdmFyIHNlbGZOb2RlID0gZGF0YS5ub2Rlcy5maW5kKGkgPT4gaVswXSA9PT0gaW5kZXgpOwogICAgICBhZGRSb3codGFibGUsIFsiRnJvbSIsICJSYXRpbyIsICJWYWx1ZSIsICJPcGVuUmFuayJdKTsKICAgICAgYWRkUm93KHRhYmxlLCBbIlNlbGYiLCBncmFwaC5tZXRhLnJldGVudGlvbkZhY3Rvciwgc2VsZk5vZGVbMV0sIChncmFwaC5tZXRhLnJldGVudGlvbkZhY3RvciAqIHNlbGZOb2RlWzFdKS50b0ZpeGVkKDMpXSk7CiAgICAgIHZhciBvdGhlciA9IGRhdGEubGlua3MuZmlsdGVyKGwgPT4gbFsxXSA9PSBpbmRleCkubWFwKGwgPT4gewogICAgICAgIHZhciBzb3VyY2VJbmRleCA9IGxbMF07CiAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBncmFwaC5tZXRhLm5vZGVzW3NvdXJjZUluZGV4XTsKICAgICAgICB2YXIgc291cmNlVmFsdWUgPSBkYXRhLm5vZGVzLmZpbmQoaSA9PiBpWzBdID09PSBzb3VyY2VJbmRleCk7CiAgICAgICAgdmFyIHR5cGUgPSB0eXBlTWFwLmdldChzb3VyY2VOb2RlWzBdWzBdKTsKICAgICAgICB2YXIgbmFtZSA9IHNvdXJjZU5vZGVbMV07CiAgICAgICAgaWYgKHR5cGUgPT09ICJwdWxsIikgbmFtZSA9ICIjIiArIHNvdXJjZU5vZGVbMF0uc2xpY2UoMSkgKyAiICIgKyBzb3VyY2VOb2RlWzFdO2Vsc2UgaWYgKHR5cGUgPT09ICJpc3N1ZSIpIG5hbWUgPSAiIyIgKyAocGxhdGZvcm0gPT0gImdpdGVlIiA/IHBhcnNlSW50KHNvdXJjZU5vZGVbMF0uc2xpY2UoMSkpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpIDogc291cmNlTm9kZVswXS5zbGljZSgxKSkgKyAiICIgKyBzb3VyY2VOb2RlWzFdOwogICAgICAgIHJldHVybiBbbmFtZSwgcGFyc2VGbG9hdCgoMSAtIGdyYXBoLm1ldGEucmV0ZW50aW9uRmFjdG9yKSAqIGxbMl0pLnRvRml4ZWQoMyksIHNvdXJjZVZhbHVlWzJdLCBwYXJzZUZsb2F0KCgoMSAtIGdyYXBoLm1ldGEucmV0ZW50aW9uRmFjdG9yKSAqIGxbMl0gKiBzb3VyY2VWYWx1ZVsyXSkudG9GaXhlZCgzKSldOwogICAgICB9KS5zb3J0KChhLCBiKSA9PiBiWzNdIC0gYVszXSk7CiAgICAgIHZhciByZXBvTm9kZSA9IGRhdGEubm9kZXMuZmluZChpID0+IGlbMF0gPT09IDApOwogICAgICBvdGhlci5wdXNoKFtncmFwaC5tZXRhLnJlcG9OYW1lLCAoMSAvIChkYXRhLm5vZGVzLmxlbmd0aCAtIDEpKS50b0ZpeGVkKDMpLCByZXBvTm9kZVsyXSwgKDEgLyAoZGF0YS5ub2Rlcy5sZW5ndGggLSAxKSAqIHJlcG9Ob2RlWzJdKS50b0ZpeGVkKDMpXSk7CiAgICAgIGZvciAodmFyIHIgb2Ygb3RoZXIpIHsKICAgICAgICBhZGRSb3codGFibGUsIHIpOwogICAgICB9CiAgICB9LAogICAgb25HcmFwaERhdGFMb2FkZWQoZ3JhcGgpIHsKICAgICAgc2V0TGVhZGVyYm9hcmQoZ3JhcGgpOwogICAgICB2YXIgZGF0YSA9IGdyYXBoLmRhdGFbbW9udGhdOwogICAgICB2YXIgbm9kZXMgPSBkYXRhLm5vZGVzLm1hcChub2RlID0+IHsKICAgICAgICB2YXIgaWQgPSBncmFwaC5tZXRhLm5vZGVzW25vZGVbMF1dWzBdOwogICAgICAgIHZhciB0eXBlID0gdHlwZU1hcC5nZXQoaWRbMF0pOwogICAgICAgIHZhciBuYW1lID0gZ3JhcGgubWV0YS5ub2Rlc1tub2RlWzBdXVsxXTsKICAgICAgICBpZiAodHlwZSA9PT0gInB1bGwiKSBuYW1lID0gIiMiICsgaWQuc2xpY2UoMSk7ZWxzZSBpZiAodHlwZSA9PT0gImlzc3VlIikgbmFtZSA9ICIjIiArIChwbGF0Zm9ybSA9PSAiZ2l0ZWUiID8gcGFyc2VJbnQoaWQuc2xpY2UoMSkpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpIDogaWQuc2xpY2UoMSkpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZCwKICAgICAgICAgIGluaXRpYWxWYWx1ZTogbm9kZVsxXSwKICAgICAgICAgIHZhbHVlOiBub2RlWzJdLAogICAgICAgICAgbmFtZSwKICAgICAgICAgIHN5bWJvbFNpemU6IE1hdGgubG9nKG5vZGVbMl0gKyAxKSAqIDEwLAogICAgICAgICAgY2F0ZWdvcnk6IHR5cGUKICAgICAgICB9OwogICAgICB9KTsKICAgICAgdmFyIGxpbmtzID0gZGF0YS5saW5rcy5tYXAobGluayA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNvdXJjZTogZ3JhcGgubWV0YS5ub2Rlc1tsaW5rWzBdXVswXSwKICAgICAgICAgIHRhcmdldDogZ3JhcGgubWV0YS5ub2Rlc1tsaW5rWzFdXVswXSwKICAgICAgICAgIHZhbHVlOiBsaW5rWzJdCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7CiAgICAgICAgaWYgKG5vZGUuY2F0ZWdvcnkgPT09ICJpc3N1ZSIgfHwgbm9kZS5jYXRlZ29yeSA9PT0gInB1bGwiKSB7CiAgICAgICAgICBsaW5rcy5wdXNoKHsKICAgICAgICAgICAgc291cmNlOiBncmFwaC5tZXRhLm5vZGVzWzBdWzBdLAogICAgICAgICAgICB0YXJnZXQ6IG5vZGUuaWQsCiAgICAgICAgICAgIHZhbHVlOiAwLjA1CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgY2F0ZWdvcmllcyA9IEFycmF5LmZyb20odHlwZU1hcC52YWx1ZXMoKSk7CiAgICAgIHZhciBvcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6IGBDb21tdW5pdHkgT3BlblJhbmsgZm9yICR7cmVwb05hbWV9IGluICR7bW9udGh9YCwKICAgICAgICAgIHRvcDogImJvdHRvbSIsCiAgICAgICAgICBsZWZ0OiAicmlnaHQiCiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IFt7CiAgICAgICAgICBkYXRhOiBjYXRlZ29yaWVzCiAgICAgICAgfV0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogIml0ZW0iCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAiQ29sbGFib3JhdGl2ZSBncmFwaCIsCiAgICAgICAgICB0eXBlOiAiZ3JhcGgiLAogICAgICAgICAgbGF5b3V0OiAiZm9yY2UiLAogICAgICAgICAgbm9kZXMsCiAgICAgICAgICBsaW5rcywKICAgICAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMubWFwKGMgPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG5hbWU6IGMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pLAogICAgICAgICAgcm9hbTogdHJ1ZSwKICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgIHBvc2l0aW9uOiAicmlnaHQiLAogICAgICAgICAgICBzaG93OiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgZm9yY2U6IHsKICAgICAgICAgICAgbGF5b3V0QW5pbWF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgcmVwdWxzaW9uOiAzMDAKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9OwogICAgICBjaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgY2hhcnQub24oImRibGNsaWNrIiwgZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgIHNldERldGFpbHMoZ3JhcGgsIHBhcmFtcy5kYXRhLmlkKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["echarts","axios","month","decodeURIComponent","getUrlParam","name","data","chart","typeMap","Map","leaderboardData","detailsData","mounted","console","log","initChart","loadData","methods","init","$refs","graph","get","then","response","catch","error","clearDiv","id","div","document","getElementById","hasChildNodes","children","childNodes","child","removeChild","addRow","table","texts","tr","insertRow","t","td","insertCell","appendChild","createTextNode","toString","slice","setLeaderboard","users","nodes","map","node","meta","initialValue","value","login","filter","n","sort","a","b","u","setDetails","index","findIndex","i","selfNode","find","retentionFactor","toFixed","other","links","l","sourceIndex","sourceNode","sourceValue","type","platform","parseInt","toUpperCase","parseFloat","repoNode","push","repoName","length","r","onGraphDataLoaded","symbolSize","Math","category","link","source","target","forEach","categories","Array","from","values","option","title","text","top","left","legend","tooltip","trigger","series","layout","c","roam","label","position","show","force","layoutAnimation","repulsion","setOption","on","params"],"sources":["src/components/DataMap/index.vue"],"sourcesContent":["<template>\n  <div id=\"main\" class=\"bordered\">\n    <div ref=\"graph\" class=\"bordered\"></div>\n    <div id=\"control\" class=\"bordered\">\n      <div id=\"list\" class=\"bordered\">\n        <div id=\"title\">\n          <h2>Leaderboard</h2>\n        </div>\n        <div id=\"leaderboard_div\" class=\"scrollit\">\n          <table>\n            <thead>\n              <tr>\n                <th>Login</th>\n                <th>OpenRank</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- Leaderboard rows will be dynamically inserted here -->\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div id=\"details\" class=\"bordered\">\n        <div id=\"title\">\n          <h2>Details</h2>\n        </div>\n        <div id=\"details_div\" class=\"scrollit\">\n          <table>\n            <thead>\n              <tr>\n                <th>From</th>\n                <th>Ratio</th>\n                <th>Value</th>\n                <th>OpenRank</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- Details rows will be dynamically inserted here -->\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script src=\"https://assets.codepen.io/9606223/open_digger_utils.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/echarts/5.3.2/echarts.min.js\"></script>\n    <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js\"></script>\n \n<script>\nimport * as echarts from \"echarts\";\nimport axios from 'axios';\nvar month = decodeURIComponent(getUrlParam('month', '202406'));\nexport default {\n  name: \"GraphComponent\",\n  data() {\n    return {\n      chart: null,\n      typeMap: new Map([\n        [\"r\", \"repo\"],\n        [\"i\", \"issue\"],\n        [\"p\", \"pull\"],\n        [\"u\", \"user\"],\n      ]),\n      leaderboardData: [],\n      detailsData: [],\n    };\n  },\n  mounted() {\n    console.log(\"我进来了\");\n    this.initChart();\n    this.loadData();\n  },\n  methods: {\n    initChart() {\n      this.chart = echarts.init(this.$refs.graph);\n    },\n    loadData() {\n      axios\n        .get(\n          \"https://oss.x-lab.info/open_digger/github/umijs/umi/community_openrank.json\"\n        )\n        .then((response) => {\n          console.log(response+\"SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\")\n          this.data = response.data; // 将获取的数据保存到组件的数据属性中\n        })\n        .catch((error) => {\n          console.error(\"error\", error);\n        });\n    },\n    clearDiv(id) {\n      var div = document.getElementById(id);\n      if (div && div.hasChildNodes()) {\n        var children = div.childNodes;\n        for (var child of children) {\n          div.removeChild(child);\n        }\n      }\n    },\n    addRow(table, texts) {\n      var tr = table.insertRow();\n      for (var t of texts) {\n        var td = tr.insertCell();\n        td.appendChild(document.createTextNode(t.toString().slice(0, 20)));\n      }\n    },\n    setLeaderboard(graph) {\n      clearDiv(\"leaderboard_table\");\n      var table = document.getElementById(\"leaderboard_table\");\n      addRow(table, [\"Login\", \"OpenRank\"]);\n      var users = graph.data[month].nodes\n        .map((node) => ({\n          id: graph.meta.nodes[node[0]][0],\n          initialValue: node[1],\n          value: node[2],\n          login: graph.meta.nodes[node[0]][1],\n        }))\n        .filter((n) => n.id[0] === \"u\")\n        .sort((a, b) => b.value - a.value);\n      for (var u of users) {\n        addRow(table, [u.login, u.value]);\n      }\n    },\n    setDetails(graph, id) {\n      clearDiv(\"details_table\");\n      var table = document.getElementById(\"details_table\");\n      var index = graph.meta.nodes.findIndex((i) => i[0] === id);\n      var data = graph.data[month];\n      var selfNode = data.nodes.find((i) => i[0] === index);\n      addRow(table, [\"From\", \"Ratio\", \"Value\", \"OpenRank\"]);\n      addRow(table, [\n        \"Self\",\n        graph.meta.retentionFactor,\n        selfNode[1],\n        (graph.meta.retentionFactor * selfNode[1]).toFixed(3),\n      ]);\n\n      var other = data.links\n        .filter((l) => l[1] == index)\n        .map((l) => {\n          var sourceIndex = l[0];\n          var sourceNode = graph.meta.nodes[sourceIndex];\n          var sourceValue = data.nodes.find((i) => i[0] === sourceIndex);\n          var type = typeMap.get(sourceNode[0][0]);\n          var name = sourceNode[1];\n          if (type === \"pull\")\n            name = \"#\" + sourceNode[0].slice(1) + \" \" + sourceNode[1];\n          else if (type === \"issue\")\n            name =\n              \"#\" +\n              (platform == \"gitee\"\n                ? parseInt(sourceNode[0].slice(1)).toString(36).toUpperCase()\n                : sourceNode[0].slice(1)) +\n              \" \" +\n              sourceNode[1];\n          return [\n            name,\n            parseFloat((1 - graph.meta.retentionFactor) * l[2]).toFixed(3),\n            sourceValue[2],\n            parseFloat(\n              (\n                (1 - graph.meta.retentionFactor) *\n                l[2] *\n                sourceValue[2]\n              ).toFixed(3)\n            ),\n          ];\n        })\n        .sort((a, b) => b[3] - a[3]);\n      var repoNode = data.nodes.find((i) => i[0] === 0);\n      other.push([\n        graph.meta.repoName,\n        (1 / (data.nodes.length - 1)).toFixed(3),\n        repoNode[2],\n        ((1 / (data.nodes.length - 1)) * repoNode[2]).toFixed(3),\n      ]);\n      for (var r of other) {\n        addRow(table, r);\n      }\n    },\n    onGraphDataLoaded(graph) {\n      setLeaderboard(graph);\n      var data = graph.data[month];\n      var nodes = data.nodes.map((node) => {\n        var id = graph.meta.nodes[node[0]][0];\n        var type = typeMap.get(id[0]);\n        var name = graph.meta.nodes[node[0]][1];\n        if (type === \"pull\") name = \"#\" + id.slice(1);\n        else if (type === \"issue\")\n          name =\n            \"#\" +\n            (platform == \"gitee\"\n              ? parseInt(id.slice(1)).toString(36).toUpperCase()\n              : id.slice(1));\n        return {\n          id,\n          initialValue: node[1],\n          value: node[2],\n          name,\n          symbolSize: Math.log(node[2] + 1) * 10,\n          category: type,\n        };\n      });\n      var links = data.links.map((link) => {\n        return {\n          source: graph.meta.nodes[link[0]][0],\n          target: graph.meta.nodes[link[1]][0],\n          value: link[2],\n        };\n      });\n      nodes.forEach((node) => {\n        if (node.category === \"issue\" || node.category === \"pull\") {\n          links.push({\n            source: graph.meta.nodes[0][0],\n            target: node.id,\n            value: 0.05,\n          });\n        }\n      });\n      var categories = Array.from(typeMap.values());\n      var option = {\n        title: {\n          text: `Community OpenRank for ${repoName} in ${month}`,\n          top: \"bottom\",\n          left: \"right\",\n        },\n        legend: [\n          {\n            data: categories,\n          },\n        ],\n        tooltip: {\n          trigger: \"item\",\n        },\n        series: [\n          {\n            name: \"Collaborative graph\",\n            type: \"graph\",\n            layout: \"force\",\n            nodes,\n            links,\n            categories: categories.map((c) => {\n              return { name: c };\n            }),\n            roam: true,\n            label: {\n              position: \"right\",\n              show: true,\n            },\n            force: {\n              layoutAnimation: false,\n              repulsion: 300,\n            },\n          },\n        ],\n      };\n      chart.setOption(option);\n      chart.on(\"dblclick\", function (params) {\n        setDetails(graph, params.data.id);\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n.bordered {\n  border: 1px solid #000;\n}\n.scrollit {\n  overflow-y: auto;\n}\n#main {\n  display: flex;\n}\n\n#graph {\n  width: 800px;\n  height: 800px;\n}\n\n#control {\n  width: 500px;\n  height: 800px;\n}\n\n#list {\n  width: 480px;\n  height: 300px;\n  margin: 10px;\n}\n\n#details {\n  width: 480px;\n  height: 440px;\n  margin: 10px;\n}\n\n#title {\n  text-align: center;\n  font-size: 12px;\n}\n\n#leaderboard_table {\n  width: 95%;\n  margin: 10px;\n}\n\n#details_table {\n  width: 95%;\n  margin: 10px;\n}\n\n.bordered {\n  border: 2px solid grey;\n}\n\n#leaderboard_div {\n  height: 240px;\n}\n\n#details_div {\n  height: 380px;\n}\n\n.scrollit {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\ntr:nth-child(even) {\n  background-color: #d6eeee;\n}\n\ntable,\nth,\ntd {\n  border: 1px solid black;\n}\n</style>"],"mappings":"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","ignoreList":[]}]}